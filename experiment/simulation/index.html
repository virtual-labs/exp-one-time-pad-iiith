<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vernam Cipher and Perfect Secrecy Simulation</title>
    <link rel="stylesheet" href="css/main.css" />
  </head>
  <body>
    <div class="content" id="experiment-article-section-4-content">
      <h4>ğŸ”’ Interactive Vernam Cipher and Perfect Secrecy Learning</h4>

      <!-- Scenario Selector -->
      <div
        style="
          background: #f8f9fa;
          padding: 15px;
          border-radius: 8px;
          margin-bottom: 20px;
        "
      >
        <h5>ğŸ“š Learning Scenarios</h5>
        <p>
          Choose a scenario to explore different aspects of the Vernam cipher:
        </p>
        <select
          id="scenario-selector"
          onchange="loadScenario(this.value)"
          style="padding: 8px; margin: 10px 0"
        >
          <option value="">Select a learning scenario...</option>
          <option value="1">1. Perfect One-Time Pad (Secure)</option>
          <option value="2">2. Key Reuse Vulnerability</option>
          <option value="3">3. Short Key Expansion Problem</option>
          <option value="4">4. Predictable Key Pattern</option>
          <option value="5">5. All Zeros Attack</option>
          <option value="6">6. Perfect Secrecy Test</option>
        </select>
      </div>

      <!-- Current Scenario Display -->
      <div id="current-scenario" style="display: none">
        <h5 id="scenario-title"></h5>
        <p id="scenario-description"></p>

        <!-- Interactive Demo Area -->
        <div
          style="
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
          "
        >
          <h6>ğŸ§® Try It Yourself</h6>

          <div
            style="
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 15px;
              margin: 10px 0;
            "
          >
            <div>
              <strong>ï¿½ Plaintext:</strong><br />
              <input
                id="demo-plaintext"
                type="text"
                placeholder="Binary input"
                style="width: 100%; padding: 5px"
              />
            </div>
            <div>
              <strong>ğŸ—ï¸ Key:</strong><br />
              <input
                id="demo-key"
                type="text"
                placeholder="Binary key"
                style="width: 100%; padding: 5px"
              />
            </div>
          </div>

          <div style="text-align: center; margin: 10px 0">
            <button
              onclick="encryptDemo()"
              style="
                padding: 8px 15px;
                background: #3498db;
                color: white;
                border: none;
                border-radius: 4px;
              "
            >
              ğŸ” Encrypt
            </button>
          </div>

          <div>
            <strong>ğŸ“„ Ciphertext:</strong><br />
            <input
              id="demo-ciphertext"
              type="text"
              readonly
              style="width: 100%; padding: 5px; background: #f8f9fa"
            />
          </div>
        </div>

        <!-- User Prediction Area -->
        <div
          style="
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
          "
        >
          <h6>ğŸ¤” Your Turn</h6>

          <div style="margin: 10px 0">
            <label><strong>Predict the ciphertext:</strong></label
            ><br />
            <input
              id="user-prediction"
              type="text"
              placeholder="Enter your prediction"
              style="width: 100%; padding: 5px"
            />
          </div>

          <div style="margin: 10px 0">
            <label><strong>Is this encryption scheme secure?</strong></label
            ><br />
            <input
              id="user-security-answer"
              type="text"
              placeholder="secure/insecure or yes/no"
              style="width: 100%; padding: 5px"
            />
          </div>

          <button
            onclick="checkUserPrediction(document.getElementById('scenario-selector').value)"
            style="
              padding: 8px 15px;
              background: #28a745;
              color: white;
              border: none;
              border-radius: 4px;
            "
          >
            âœ… Check My Answer
          </button>
        </div>

        <!-- Feedback Area -->
        <div
          id="feedback-area"
          style="
            display: none;
            background: #d4edda;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
          "
        >
          <h6>ğŸ“– Learning Feedback</h6>
          <div id="feedback-content"></div>
        </div>
      </div>

      <h4>ğŸ§® Vernam Cipher Simulator</h4>
      <p>
        <strong>ğŸ“ Plaintext:</strong><br />
        <textarea
          cols="25"
          id="p"
          name="p"
          rows="1"
          placeholder="Enter binary plaintext"
        >
10010011000110</textarea
        >
      </p>

      <p>
        <strong>ğŸ—ï¸ Key:</strong><br />
        <input
          id="key"
          maxchars="25"
          name="key"
          size="25"
          type="text"
          value="10101100110001"
          placeholder="Enter binary key"
        />
        <input
          name="genKey"
          onclick="Vernam_RandKey()"
          type="button"
          value="ğŸ² Generate Random Key"
        />
      </p>
      <p>
        <input
          name="btnEn"
          onclick="Vernam_Encrypt()"
          type="button"
          value="ğŸ” Encrypt â†“"
        />
        <input
          name="btnDe"
          onclick="Vernam_Decrypt()"
          type="button"
          value="ğŸ”“ Decrypt â†‘"
        />
      </p>

      <p>
        <strong>ğŸ“„ Ciphertext:</strong><br />
        <textarea
          cols="50"
          id="c"
          name="c"
          rows="2"
          placeholder="Encrypted result will appear here..."
        ></textarea>
      </p>

      <div
        style="
          margin-top: 30px;
          padding: 20px;
          background: #e8f4fd;
          border-radius: 8px;
          border-left: 4px solid #3498db;
        "
      >
        <h4 style="margin-top: 0; border: none">
          ğŸ’¡ How to Use This Interactive Learning Tool
        </h4>
        <ol>
          <li>
            <strong>Choose a Scenario:</strong> Select from 6 educational
            scenarios that demonstrate different aspects of cryptographic
            security.
          </li>
          <li>
            <strong>Predict & Learn:</strong> Try to predict the encryption
            result and assess whether the scheme is secure.
          </li>
          <li>
            <strong>Get Feedback:</strong> Receive detailed explanations about
            why each scenario is secure or vulnerable.
          </li>
          <li>
            <strong>Key Insights:</strong> Learn about perfect secrecy, key
            reuse attacks, pattern vulnerabilities, and proper OTP usage.
          </li>
        </ol>

        <div
          style="
            background: #fff3cd;
            padding: 10px;
            border-radius: 4px;
            margin-top: 15px;
          "
        >
          <strong>ğŸ¯ Learning Goals:</strong> Understand when Vernam cipher
          achieves perfect secrecy and what makes it vulnerable.
        </div>
      </div>
    </div>
    <!-- JavaScript Files -->
    <script src="js/educational_dataset.js"></script>
    <script src="js/vernam.js"></script>
    <script>
      // Initialize the interface
      document.addEventListener("DOMContentLoaded", function () {
        document
          .getElementById("scenario-selector")
          .addEventListener("change", function () {
            if (this.value) {
              document.getElementById("current-scenario").style.display =
                "block";
              loadScenario(parseInt(this.value));
            } else {
              document.getElementById("current-scenario").style.display =
                "none";
            }
          });
      });
    </script>
  </body>
</html>
